{% load i18n %}

<div class="{{ width_classes }}">
    <label class="form-control" id="{{ field.id_for_label }}">
        {% if display_label %}
            <div class="label">
                <span class="label-text">{% blocktranslate with label=field.label %}{{ label }}{% endblocktranslate %}</span>
            </div>
        {% endif %}

        {% if type == "text" or type == "email" or type == "password" or type == "regionalphonenumber" or type == "date" %}
            <div class="input input-bordered flex items-center gap-2 {{ input_classes }}">
                <input 
                    type="{% if type == "regionalphonenumber" %}tel{% else %}{{ type }}{% endif %}" 
                    class="grow {{ input_classes }}"
                    {% if display_placeholder %}placeholder="{{ field.label }}"{% endif %}
                    {% if field.field.required %}required="required"{% endif %}
                    value="{% if type == "date" %}{{ field.value|date:"Y-m-d"|default:"" }}{% else %}{{ field.value|default:"" }}{% endif %}"
                    name="{{ field.html_name }}"
                />

                {% if field.field.required %}
                    <span class="badge badge-error">{% translate "required" %}</span>
                {% endif %}
            </div>
        {% elif type == "checkbox" %}
            <div class="form-control">
                <label class="label cursor-pointer" id="{{ field.id_for_label }}">
                    <input type="checkbox" class="checkbox" name="{{ field.html_name }}" {% if field.value %}checked{% endif %}/>
                    <span class="ml-2 label-text">{{ field.help_text }}</span>
                </label>
            </div>
        {% elif type == "select" %}
            <select class="select select-bordered grow {{ input_classes }}" name="{{ field.html_name }}">
                {% for value, label in field.field.choices %}
                    <option value="{{ value }}">
                        {{ label }}
                    </option>
                {% endfor %}
            </select>
        {% endif %}
    </label>
</div>